<template>
  <div>
    <div class="graf">
      <vc-donut
        background="#eeeeee"
        foreground="grey"
        :size="75"
        unit="%"
        :thickness="30"
        legend-placement="top"
        :sections="sections"
        :total="100"
        :start-angle="0"
        :auto-adjust-text-size="true"
        @section-mouseover="handleSectionMouseover"
        @section-mouseout="handleSectionMouseout"
      >
        <p>{{contentLabel}}</p>
      </vc-donut>
    </div>
  </div>
</template>

<script>
export default {
  props: ["trasa"],

  data() {
    return {
      contentLabel: ""
    };
  },

  computed: {
    sections() {
      return [
        { label: `Asfalt ${this.trasa.terrain.asphalt}%`, value: this.trasa.terrain.asphalt, color: "#ec9b3b" },
        { label: `Ter√©n ${this.trasa.terrain.gravel}%`, value: this.trasa.terrain.gravel, color: "#00818a" }
      ];
    }
  },

  methods: {
    handleSectionMouseover(section, event) {
      this.contentLabel=section.label;
    },

    handleSectionMouseout(section, event) {
        this.contentLabel="";
    }
  }
};
</script>

<style>
</style>